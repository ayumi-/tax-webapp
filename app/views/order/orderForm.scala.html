@(c: models.contract.Contract)(ps: List[models.product.Product])(orderForm: Form[forms.OrderForm])

@import helper._
@import views._

@implicitFieldConstructor = @{ FieldConstructor(bootstrapInput.f) } 

@main("取引の登録") {
	@form(routes.OrderController.confirm(c.contractNumber), 'class -> "form-horizontal") {
		@staticForm("契約先名", c.party.name)
		@staticForm("契約分類", c.contractType)
		@staticForm("代金条項の丸め方法", c.priceRoundingMethod)
		@staticForm("消費税条項の丸め方法", c.consumptionTaxRoundingMethod)
		@staticForm("消費税条項の課税単位", c.consumptionTaxCalculationBase)
		@helper.inputText(orderForm("effective_date"), '_label -> "取引日",
			'class -> "form-control", 'placeholder -> "yyyy-MM-dd")
		@select(orderForm("transaction_type"), 
			options = options(OrderController.transaction_type_options),
			'_label -> "取引種別", 'class -> "form-control")
		@helper.checkbox(orderForm("is_untaxed"), '_label -> "課税対象",
			'checked -> "checked", 'class -> "form-control")
		@select(orderForm("trading_subject_options"), 
			options = options(OrderController.trading_subject_options),
			'_label -> "取引対象", 'class -> "form-control")
		@for(p <- ps) {
			@helper.inputText(orderForm("quantities[" + p.id + "]"), '_label -> {p.name + "(" + p.unitPrice + "円/キロ)"},
				'class -> "form-control", 'placeholder -> "キログラム単位")
		}
		
	  <div class="form-group">
	    <div class="col-lg-offset-3 col-lg-5">
		  <button type="submit" class="btn btn-primary btn-lg">確認する</button>
	    </div>
	  </div>
	}
}
